import{B as n,l as t}from"./vue-vendor-DHXOLpRn.js";function e(){const e=t(!1),o=t(null),a=t(null);function r(){a.value&&(a.value.abort(),a.value=null)}async function l(n,t={}){r();const l=new AbortController;a.value=l,e.value=!0,o.value=null;const u={};(t.body||"POST"===t.method||"PUT"===t.method||"PATCH"===t.method)&&(u["Content-Type"]="application/json");try{const e=await window.fetch(n,{headers:{...u,...t.headers||{}},signal:l.signal,...t});if(!e.ok)throw new Error(`HTTP ${e.status}: ${e.statusText}`);return await e.json()}catch(s){if("AbortError"===s.name)return e.value=!1,null;throw o.value=s.message,s}finally{e.value=!1,a.value=null}}return n(()=>{r()}),{fetch:l,post:async function(n,t){return l(n,{method:"POST",body:JSON.stringify(t)})},get:async function(n){return l(n,{method:"GET"})},loading:e,error:o,cancelRequest:r}}export{e as u};
